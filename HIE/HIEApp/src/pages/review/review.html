<!-- <ion-header>
  <ion-navbar>
      <ion-buttons left>
          <button ion-button icon-only (click)="goBack()">
              <ion-icon name="close"></ion-icon>
        </button>
      </ion-buttons>
    <ion-title>Review</ion-title>
  </ion-navbar>
  </ion-header>
  <ion-content padding> -->
    <ion-content ksd-header *ngIf="bLoaded">
      <div class="background-image" [style.backgroundImage]="'url(' + getImageURL(oMerchant) + ')'">
        <button ion-button icon-only (click)="goBack()" class="top-left-button">
            <ion-icon name="close"></ion-icon>
          </button>
      </div>
        <!-- <ion-item no-padding>
      <ion-row>
        <ion-col no-padding class="ksd-col-head">
          <img [src]="oAPIService.buildImageURL(oMerchant,oMerchant.ID)" />
        </ion-col>
      </ion-row>
    </ion-item> -->
    <div no-padding class='ksd-spacer-2'></div>
    <ion-grid>
      <ion-row no-padding>
        <ion-col>
          <form [formGroup]='oInputForm'>
            <ion-label>Add your review here...</ion-label>
            <ion-textarea class="ksd-address" formControlName="description"></ion-textarea>
            <!-- <ion-input formControlName="description" type='text'>
            </ion-input> -->
            <div no-padding class='ksd-spacer-2'></div>
            <ion-item no-lines *ngIf="oForm.hasError('required')">
              <div class="alert alert-danger">
                {{oForm.getError('description')}}
              </div>
            </ion-item>        
            <button ion-button full (click)="onSave()" [disabled]="!oInputForm.valid">Add review</button>
          </form>
        </ion-col>
      </ion-row>
      <!--<ion-row>
        <ion-col>
          <ion-item *ngIf="!oInputForm.valid">
            <p>Feedback must be 3-10 characters</p>
          </ion-item>
        </ion-col>
      </ion-row>-->
    </ion-grid>
    <!--<div no-padding class='ksd-spacer-3'></div>-->
    <ion-grid *ngIf="bLoaded == true">
      <!-- <div no-padding class='ksd-spacer-3'></div> -->
      <ion-item no-padding class='ksd-spacer-3' *ngFor="let o of oItems">
        <!--<ion-item no-lines>-->
        <div no-padding class='ksd-who'>{{o.NAME}} . {{getElapsedTime(o.TS, o.CURRENT_TIMESTAMP)}}
        </div>
        <!--</ion-item>-->
        <div no-padding text-justify text-left text-wrap class='ksd-review'>{{o.DESCRIPTION}}</div>
        <div style="padding-bottom: 25px"></div>
        <!--<ion-item-options>
          <button (click)="onRemoveItem(o)" color='danger' ion-button icon-left><ion-icon name='trash'></ion-icon> Delete</button>
        </ion-item-options>-->
        <!--</ion-item-sliding>-->
      </ion-item>
    </ion-grid>
    <ion-infinite-scroll (ionInfinite)="loadMoreItems($event)" *ngIf="noMoreItemsAvailable==false">
      <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>
  </ion-content>
  <!-- <ion-item>
    <ion-range min="0" max="100" pin="true" [(ngModel)]="oRating">
      <ion-icon range-left name="sad"></ion-icon>
      <ion-icon range-right name="happy"></ion-icon>
    </ion-range>
  </ion-item> -->
