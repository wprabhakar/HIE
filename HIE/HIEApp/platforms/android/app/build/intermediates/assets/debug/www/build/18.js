webpackJsonp([18],{797:function(l,n,e){"use strict";function u(l){return c["ɵvid"](0,[(l()(),c["ɵeld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),c["ɵted"](-1,null,["\n      "])),(l()(),c["ɵeld"](2,0,null,null,1,"p",[["class","ksd-no-result"]],null,null,null,null,null)),(l()(),c["ɵted"](3,null,["",""])),(l()(),c["ɵted"](-1,null,["\n    "]))],null,function(l,n){l(n,3,0,n.component.sErrorText)})}function t(l){return c["ɵvid"](0,[(l()(),c["ɵeld"](0,0,null,null,2,"button",[["align-right",""],["class","ksd-round-button"],["ion-button",""],["item-right",""],["round",""]],null,[[null,"click"]],function(l,n,e){var u=!0;if("click"===n){u=!1!==l.component.changeOrderStatus(l.parent.context.$implicit)&&u}return u},O.b,O.a)),c["ɵdid"](1,1097728,[[9,4]],0,k.a,[[8,""],E.a,c.ElementRef,c.Renderer],{round:[0,"round"]},null),(l()(),c["ɵted"](-1,0,["Fulfilled"]))],function(l,n){l(n,1,0,"")},null)}function d(l){return c["ɵvid"](0,[(l()(),c["ɵeld"](0,0,null,null,20,"ion-item",[["class","item item-block"],["ion-item",""],["no-padding",""]],[[8,"className",0]],null,null,N.b,N.a)),c["ɵdid"](1,1097728,null,3,x.a,[T.a,E.a,c.ElementRef,c.Renderer,[2,S.a]],null,null),c["ɵqud"](335544320,5,{contentLabel:0}),c["ɵqud"](603979776,6,{_buttons:1}),c["ɵqud"](603979776,7,{_icons:1}),c["ɵdid"](5,16384,null,0,_.a,[],null,null),(l()(),c["ɵted"](-1,2,["\n          "])),(l()(),c["ɵeld"](7,0,null,0,12,"ion-item",[["class","item item-block"],["item-left",""],["no-padding",""]],[[8,"className",0]],null,null,N.b,N.a)),c["ɵdid"](8,1097728,null,3,x.a,[T.a,E.a,c.ElementRef,c.Renderer,[2,S.a]],null,null),c["ɵqud"](335544320,8,{contentLabel:0}),c["ɵqud"](603979776,9,{_buttons:1}),c["ɵqud"](603979776,10,{_icons:1}),c["ɵdid"](12,16384,null,0,_.a,[],null,null),(l()(),c["ɵted"](-1,2,["\n            "])),(l()(),c["ɵeld"](14,0,null,2,1,"div",[["class","ksd-details"]],null,[[null,"click"]],function(l,n,e){var u=!0;if("click"===n){u=!1!==l.component.showOrderDetails(l.parent.context.$implicit)&&u}return u},null,null)),(l()(),c["ɵted"](15,null,[""," x ",""])),(l()(),c["ɵted"](-1,2,["\n            "])),(l()(),c["ɵand"](16777216,null,4,1,null,t)),c["ɵdid"](18,16384,null,0,F.k,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),c["ɵted"](-1,2,["\n          "])),(l()(),c["ɵted"](-1,2,["\n        "]))],function(l,n){l(n,18,0,n.context.index==n.parent.context.$implicit._D.length-1)},function(l,n){var e=n.component;l(n,0,0,e.getStyle(n.parent.parent.context.$implicit.PICKUPON));l(n,7,0,e.getStyle(n.parent.parent.context.$implicit.PICKUPON));l(n,15,0,n.context.$implicit.QUANTITY,n.context.$implicit.TITLE)})}function i(l){return c["ɵvid"](0,[(l()(),c["ɵeld"](0,0,null,null,46,"ion-card",[["class","item item-block"],["ion-item",""],["padding",""]],[[8,"className",0]],null,null,N.b,N.a)),c["ɵdid"](1,16384,null,0,D.a,[E.a,c.ElementRef,c.Renderer],null,null),c["ɵdid"](2,1097728,null,3,x.a,[T.a,E.a,c.ElementRef,c.Renderer,[2,S.a]],null,null),c["ɵqud"](335544320,2,{contentLabel:0}),c["ɵqud"](603979776,3,{_buttons:1}),c["ɵqud"](603979776,4,{_icons:1}),c["ɵdid"](6,16384,null,0,_.a,[],null,null),(l()(),c["ɵted"](-1,2,["\n        "])),(l()(),c["ɵeld"](8,0,null,2,23,"ion-row",[["class","ksd-padding row"]],null,null,null,null,null)),c["ɵdid"](9,16384,null,0,U.a,[],null,null),(l()(),c["ɵted"](-1,null,["\n          "])),(l()(),c["ɵeld"](11,0,null,null,5,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),c["ɵdid"](12,16384,null,0,$.a,[],null,null),(l()(),c["ɵted"](-1,null,["\n            "])),(l()(),c["ɵeld"](14,0,null,null,1,"div",[["class","ksd-time"]],null,null,null,null,null)),(l()(),c["ɵted"](15,null,["",""])),(l()(),c["ɵted"](-1,null,["\n          "])),(l()(),c["ɵted"](-1,null,["\n          "])),(l()(),c["ɵeld"](18,0,null,null,5,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),c["ɵdid"](19,16384,null,0,$.a,[],null,null),(l()(),c["ɵted"](-1,null,["\n            "])),(l()(),c["ɵeld"](21,0,null,null,1,"div",[["class","ksd-name"]],null,null,null,null,null)),(l()(),c["ɵted"](22,null,["",""])),(l()(),c["ɵted"](-1,null,["\n          "])),(l()(),c["ɵted"](-1,null,["\n          "])),(l()(),c["ɵeld"](25,0,null,null,5,"ion-col",[["class","col"],["col-6",""]],null,null,null,null,null)),c["ɵdid"](26,16384,null,0,$.a,[],null,null),(l()(),c["ɵted"](-1,null,["\n            "])),(l()(),c["ɵeld"](28,0,null,null,1,"div",[["class","ksd-order-number"]],null,null,null,null,null)),(l()(),c["ɵted"](29,null,["Order No. ",""])),(l()(),c["ɵted"](-1,null,["\n          "])),(l()(),c["ɵted"](-1,null,["\n        "])),(l()(),c["ɵted"](-1,2,["\n        "])),(l()(),c["ɵand"](16777216,null,2,1,null,d)),c["ɵdid"](34,802816,null,0,F.j,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),c["ɵted"](-1,2,["\n        "])),(l()(),c["ɵeld"](36,0,null,2,8,"ion-item",[["class","item item-block"],["no-lines",""]],[[8,"className",0]],null,null,N.b,N.a)),c["ɵdid"](37,1097728,null,3,x.a,[T.a,E.a,c.ElementRef,c.Renderer,[2,S.a]],null,null),c["ɵqud"](335544320,11,{contentLabel:0}),c["ɵqud"](603979776,12,{_buttons:1}),c["ɵqud"](603979776,13,{_icons:1}),c["ɵdid"](41,16384,null,0,_.a,[],null,null),(l()(),c["ɵted"](-1,2,["\n          "])),(l()(),c["ɵeld"](43,0,null,2,0,"div",[["style","padding-bottom: 20px"]],null,null,null,null,null)),(l()(),c["ɵted"](-1,2,["\n        "])),(l()(),c["ɵted"](-1,2,["\n        "])),(l()(),c["ɵted"](-1,2,["\n      "]))],function(l,n){l(n,34,0,n.context.$implicit._D)},function(l,n){var e=n.component;l(n,0,0,e.getStyle(n.parent.context.$implicit.PICKUPON));l(n,15,0,n.context.$implicit.PICKUPTIME);l(n,22,0,n.context.$implicit.CUSTOMER_NAME);l(n,29,0,n.context.$implicit.BOOKINGREF);l(n,36,0,e.getStyle(n.parent.context.$implicit.PICKUPON))})}function o(l){return c["ɵvid"](0,[(l()(),c["ɵeld"](0,0,null,null,10,"div",[["no-padding",""]],null,null,null,null,null)),(l()(),c["ɵted"](-1,null,["\n      "])),(l()(),c["ɵeld"](2,0,null,null,2,"div",[["class","ksd-date"]],null,null,null,null,null)),(l()(),c["ɵted"](3,null,["",""])),c["ɵppd"](4,2),(l()(),c["ɵted"](-1,null,["\n      "])),(l()(),c["ɵand"](16777216,null,null,1,null,i)),c["ɵdid"](7,802816,null,0,F.j,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),c["ɵted"](-1,null,["\n      "])),(l()(),c["ɵeld"](9,0,null,null,0,"div",[["style","padding-bottom: 20px;"]],[[8,"className",0]],null,null,null,null)),(l()(),c["ɵted"](-1,null,["\n    "]))],function(l,n){l(n,7,0,n.context.$implicit.data)},function(l,n){var e=n.component;l(n,3,0,c["ɵunv"](n,3,0,l(n,4,0,c["ɵnov"](n.parent.parent,0),n.context.$implicit.PICKUPON,"dd MMM yyyy")));l(n,9,0,e.getStyle(n.context.$implicit.PICKUPON))})}function a(l){return c["ɵvid"](0,[(l()(),c["ɵeld"](0,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),c["ɵted"](-1,null,["\n    "])),(l()(),c["ɵand"](16777216,null,null,1,null,u)),c["ɵdid"](3,16384,null,0,F.k,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),c["ɵted"](-1,null,["\n    "])),(l()(),c["ɵand"](16777216,null,null,1,null,o)),c["ɵdid"](6,802816,null,0,F.j,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),c["ɵted"](-1,null,["\n  "]))],function(l,n){var e=n.component;l(n,3,0,0==e.oItemGroupedByDate.length);l(n,6,0,e.oItemGroupedByDate)},null)}function r(l){return c["ɵvid"](0,[c["ɵpid"](0,F.d,[c.LOCALE_ID]),(l()(),c["ɵeld"](1,0,null,null,20,"ion-header",[],null,null,null,null,null)),c["ɵdid"](2,16384,null,0,K.a,[E.a,c.ElementRef,c.Renderer,[2,w.a]],null,null),(l()(),c["ɵted"](-1,null,["\n\n  "])),(l()(),c["ɵeld"](4,0,null,null,16,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,L.b,L.a)),c["ɵdid"](5,49152,null,0,M.a,[q.a,[2,w.a],[2,A.a],E.a,c.ElementRef,c.Renderer],null,null),(l()(),c["ɵted"](-1,3,["\n    "])),(l()(),c["ɵeld"](7,0,null,3,2,"ion-title",[],null,null,null,B.b,B.a)),c["ɵdid"](8,49152,null,0,V.a,[E.a,c.ElementRef,c.Renderer,[2,j.a],[2,M.a]],null,null),(l()(),c["ɵted"](-1,0,["Confirmed order"])),(l()(),c["ɵted"](-1,3,["\n    "])),(l()(),c["ɵeld"](11,0,null,0,8,"button",[["ion-button",""],["menuToggle",""]],[[8,"hidden",0]],[[null,"click"]],function(l,n,e){var u=!0,t=l.component;if("click"===n){u=!1!==c["ɵnov"](l,13).toggle()&&u}if("click"===n){u=!1!==t.goBack()&&u}return u},O.b,O.a)),c["ɵdid"](12,1097728,[[1,4]],0,k.a,[[8,""],E.a,c.ElementRef,c.Renderer],null,null),c["ɵdid"](13,1064960,null,0,G.a,[J.a,[2,w.a],[2,k.a],[2,M.a]],{menuToggle:[0,"menuToggle"]},null),c["ɵdid"](14,16384,null,1,H.a,[E.a,c.ElementRef,c.Renderer,[2,j.a],[2,M.a]],null,null),c["ɵqud"](603979776,1,{_buttons:1}),(l()(),c["ɵted"](-1,0,["\n      "])),(l()(),c["ɵeld"](17,0,null,0,1,"ion-icon",[["name","back"],["role","img"]],[[2,"hide",null]],null,null,null,null)),c["ɵdid"](18,147456,null,0,Q.a,[E.a,c.ElementRef,c.Renderer],{name:[0,"name"]},null),(l()(),c["ɵted"](-1,0,["\n    "])),(l()(),c["ɵted"](-1,3,["\n  "])),(l()(),c["ɵted"](-1,null,["\n\n"])),(l()(),c["ɵted"](-1,null,["\n\n"])),(l()(),c["ɵeld"](23,0,null,null,6,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Y.b,Y.a)),c["ɵdid"](24,4374528,null,0,Z.a,[E.a,z.a,W.a,c.ElementRef,c.Renderer,q.a,X.a,c.NgZone,[2,w.a],[2,A.a]],null,null),(l()(),c["ɵted"](-1,1,["\n  "])),(l()(),c["ɵand"](16777216,null,1,1,null,a)),c["ɵdid"](27,16384,null,0,F.k,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),c["ɵted"](-1,1,["\n\n\n  "])),(l()(),c["ɵted"](-1,1,["\n"])),(l()(),c["ɵted"](-1,null,["\n"])),(l()(),c["ɵeld"](31,0,null,null,7,"ion-footer",[],null,null,null,null,null)),c["ɵdid"](32,16384,null,0,ll.a,[E.a,c.ElementRef,c.Renderer,[2,w.a]],null,null),(l()(),c["ɵted"](-1,null,["\n  "])),(l()(),c["ɵeld"](34,0,null,null,3,"button",[["full",""],["ion-button",""],["primary",""]],null,[[null,"click"]],function(l,n,e){var u=!0;if("click"===n){u=!1!==l.component.nextPage()&&u}return u},O.b,O.a)),c["ɵdid"](35,1097728,null,0,k.a,[[8,""],E.a,c.ElementRef,c.Renderer],{full:[0,"full"]},null),(l()(),c["ɵeld"](36,0,null,0,1,"p",[["class","ksd-anchor-button"]],null,null,null,null,null)),(l()(),c["ɵted"](-1,null,[" View history order"])),(l()(),c["ɵted"](-1,null,["\n"]))],function(l,n){var e=n.component;l(n,13,0,"");l(n,18,0,"back");l(n,27,0,e.bLoaded);l(n,35,0,"")},function(l,n){l(n,4,0,c["ɵnov"](n,5)._hidden,c["ɵnov"](n,5)._sbPadding);l(n,11,0,c["ɵnov"](n,13).isHidden);l(n,17,0,c["ɵnov"](n,18)._hidden);l(n,23,0,c["ɵnov"](n,24).statusbarPadding,c["ɵnov"](n,24)._hasRefresher)})}Object.defineProperty(n,"__esModule",{value:!0});var c=e(1),s=(e(0),e(22),e(43)),m=e(35),f=function(){function l(l,n,e){this.navCtrl=l,this.viewCtrl=n,this.oAPIService=e,this.oItems=[],this.bLoaded=!1,this.sErrorText="No Pending Order"}return l.prototype.ionViewDidEnter=function(){this.fetchItems()},l.prototype.goBack=function(){this.navCtrl.pop()},l.prototype.fetchItems=function(){var l=this;this.bLoaded=!1,this.oItems=[],this.oAPIService.send2ServerP("merchant/orders",!0,{STATUS:"C"}).then(function(n){if(0==n.result.length)return l.oItemGroupedByDate=[],void(l.bLoaded=!0);l.oAPIService.sort(n.result,[{field:"PICKUPON",direction:"desc"},{field:"PICKUPSTART",direction:"desc"},{field:"BOOKINGREF",direction:"desc"}]),n.result.forEach(function(n,e){n.PICKUPTIME=Object(m.e)(n.PICKUPSTART),l.oItems.push(n),e==l.oItems.length-1&&(l.oItemGroupedByDate=l.groupByDate(),l.bLoaded=!0)})}).catch(function(l){console.log("Error:"+JSON.stringify(l))})},l.prototype.nextPage=function(){var l=this;this.navCtrl.push("OrderHistoryPage").then(function(){l.navCtrl.remove(l.viewCtrl.index)})},l.prototype.getStyle=function(l){return"ksd-back-1"},l.prototype.groupByDate=function(){var l=this.oItems.reduce(function(l,n){var e=n.PICKUPON;return l[e]?l[e].data.push(n):l[e]={PICKUPON:e,data:[n]},l},{});return Object.keys(l).map(function(n){return l[n]})},l.prototype.changeOrderStatus=function(l){var n=this;this.oAPIService.send2ServerP("merchant/fulfilled/"+l.TRANSACTION_ID,!0).then(function(l){}).catch(function(l){console.log("Error:"+JSON.stringify(l))}).then(function(){n.fetchItems()})},l}(),p=function(){return function(){}}(),g=e(492),v=e(493),b=e(494),R=e(495),h=e(496),I=e(497),P=e(498),y=e(499),C=e(500),O=e(28),k=e(17),E=e(4),N=e(48),x=e(18),T=e(16),S=e(36),_=e(40),F=e(21),D=e(200),U=e(50),$=e(49),K=e(54),w=e(8),L=e(77),M=e(38),q=e(9),A=e(23),B=e(78),V=e(55),j=e(45),G=e(79),J=e(39),H=e(69),Q=e(44),Y=e(53),Z=e(25),z=e(6),W=e(10),X=e(30),ll=e(198),nl=c["ɵcrt"]({encapsulation:2,styles:[],data:{}}),el=c["ɵccf"]("page-incoming-order",f,function(l){return c["ɵvid"](0,[(l()(),c["ɵeld"](0,0,null,null,1,"page-incoming-order",[],null,null,null,r,nl)),c["ɵdid"](1,49152,null,0,f,[A.a,w.a,s.a],null,null)],null,null)},{},{},[]),ul=e(20),tl=e(197),dl=e(68);e.d(n,"ConfirmedOrderPageModuleNgFactory",function(){return il});var il=c["ɵcmf"](p,[],function(l){return c["ɵmod"]([c["ɵmpd"](512,c.ComponentFactoryResolver,c["ɵCodegenComponentFactoryResolver"],[[8,[g.a,v.a,b.a,R.a,h.a,I.a,P.a,y.a,C.a,el]],[3,c.ComponentFactoryResolver],c.NgModuleRef]),c["ɵmpd"](4608,F.m,F.l,[c.LOCALE_ID,[2,F.u]]),c["ɵmpd"](4608,ul["ɵi"],ul["ɵi"],[]),c["ɵmpd"](4608,ul.FormBuilder,ul.FormBuilder,[]),c["ɵmpd"](512,F.b,F.b,[]),c["ɵmpd"](512,ul["ɵba"],ul["ɵba"],[]),c["ɵmpd"](512,ul.FormsModule,ul.FormsModule,[]),c["ɵmpd"](512,ul.ReactiveFormsModule,ul.ReactiveFormsModule,[]),c["ɵmpd"](512,tl.a,tl.a,[]),c["ɵmpd"](512,tl.b,tl.b,[]),c["ɵmpd"](512,p,p,[]),c["ɵmpd"](256,dl.a,f,[])])})}});